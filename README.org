#!/usr/bin/env mdsh

# TODO: Implement saku as well

#+property: header-args -n -r -l "[{(<%s>)}]" :tangle-mode (identity 0444) :noweb yes :mkdirp yes

# Adapted From:
# Answer: https://stackoverflow.com/a/65232183/10827766
# User: https://stackoverflow.com/users/776405/whil
#+startup: show3levels

#+begin_quote
Like Chemacs, but worse! — John Oliver (... Yeah, no; I wish! Maybe some day!)
#+end_quote

* হ্যালো! Hello!

This is the beginning of my version of a literate configuration for
[[https://www.gnu.org/software/emacs/][GNU Emacs]].

They were inspired primarily by the configurations of
[[https://alhassy.github.io/emacs.d/index.html][Musa Al-hassy]]
and [[https://github.com/patrickt/emacs][Patrick Thomson]].

* Wheee!

First of all, I don't know how to check if I'm running on my phone, so I pass in a command-line argument:

#+begin_src emacs-lisp
(defvar meq/var/phone (member "-p" command-line-args))
(delete "-p" command-line-args)
#+end_src

--------------

These next few lines are unabashedly stolen from
[[https://github.com/hlissner/doom-emacs/blob/develop/early-init.el][Henrik Lissner's Doom Emacs' early-init.el]]:

#+begin_quote
Emacs 27.1 introduced early-init.el, which is run before init.el, before
package and UI initialization happens, and before site files are loaded.
#+end_quote

#+begin_quote
A big contributor to startup times is garbage collection. We up the gc
threshold to temporarily prevent it from running, then reset it later by
enabling `gcmh-mode'. Not resetting it will cause stuttering/freezes.
#+end_quote

#+begin_src emacs-lisp
(setq gc-cons-threshold most-positive-fixnum)
#+end_src

#+begin_quote
In noninteractive sessions, prioritize non-byte-compiled source files to
prevent the use of stale byte-code. Otherwise, it saves us a little IO time
to skip the mtime checks on every *.elc file.
#+end_quote

#+begin_src emacs-lisp
(setq load-prefer-newer noninteractive)
#+end_src

--------------

If I ever need it, this will give me the initial directory I was in; the code is adapted from
[[https://emacs.stackexchange.com/users/1979/stefan][Stefan's answer]]
[[https://emacs.stackexchange.com/a/31662/31428][here]]:

#+begin_src emacs-lisp
(setq initial-directory default-directory)
#+end_src

--------------

* Addendum

These are just a few blocks I use regularly in my =org= files, whether in =noweb=, naming, or otherwise:

# Adapted From: https://www.reddit.com/r/emacs/comments/4o9f0e/anyone_have_disabled_parts_of_their_config_being/d4apjey?utm_source=share&utm_medium=web2x&context=3
:PROPERTIES:
:header-args: :tangle no
:END:

** username

#+name: username
#+begin_src text
shadowrylander
#+end_src

** hash-deprecated

#+name: hash-deprecated
#+begin_src emacs-lisp :var name=""
(md5 (concat (replace-regexp-in-string "/" "" (
    org-format-outline-path (org-get-outline-path))) (
        nth 4 (org-heading-components)) name))
#+end_src

** hash

#+name: hash
#+begin_src emacs-lisp
(format-time-string "%Y%m%d%H%M%S%N")
#+end_src